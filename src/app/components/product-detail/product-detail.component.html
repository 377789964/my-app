<!-- <p>
  product-detail works!
</p> -->
<div class="thumbnail">
  <img src="http://placehold.it/820x230" alt="">
  <div>
    <h4 class="pull-right">{{ product?.price }}元</h4>
    <h4>{{ product?.name }}</h4>
    <p>{{ product?.desc }}</p>
  </div>
  <div>
    <p class="pull-right">{{ comments?.length }}</p>
    <p>
      <app-stars [rating]="product?.rating" [readonly]="true"></app-stars>
    </p>
  </div>
</div>

<div class="thumbnail">
  <button class="btn btn-default btn-lg" [class.active]="isWatched" (click)="watchProduct()">
    {{ isWatched? '取消关注' : '关注' }}
  </button>
  <label for="" *ngIf="isWatched">最新出价{{ currentBid }}</label>
</div>

<div class="well">
  <div>
    <button class="btn btn-success" (click)="isShowCommentTag()">{{ btnContent }}</button>
    <div *ngIf="!isCommentHidden">
      <div>
        <app-stars [readonly]="false" [(rating)]="newRating"></app-stars>
      </div>
      <div>
        <textarea name="" id="" cols="30" rows="3" [(ngModel)]="newComment" placeholder="请说点什么吧"></textarea>
      </div>
      <div>
        <button class="btn" (click)="addComment()">提交</button>
      </div>
    </div>
  </div>


  <div class="row" *ngFor="let item of comments | async">
    <hr>
    <div class="col-md-12">
      <app-stars [rating]="item.rating" [readonly]="true"></app-stars>
      <span>{{ item.user }}</span>
      <span>{{ item.timestamp }}</span>
    </div>
    <div class="col-md-12">{{ item.content }}</div>
  </div>
</div>